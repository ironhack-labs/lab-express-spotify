<div class="container my-5">

    {{#each tracks as |track|}}
        {{>track}}
    {{/each}}

    <script>
        let audio = undefined
        let btns = document.querySelectorAll('.playBtn')

        // Pause music
        let pauseMusic = (btn) => {
            btns.forEach(btn => {
                btn.innerHTML = '<i class="fas fa-play"></i>'
            })
            btn.innerHTML = '<i class="fas fa-pause"></i>'
            btn.addEventListener('click', () => {
                btn.innerHTML = '<i class="fas fa-play"></i>'
                audio.pause()
                setListener()
            })
        }

        const setListener = () => {
            btns.forEach(btn => {
                btn.addEventListener('click', () => {
                    if(audio){
                        audio.pause()
                    }
                    audio = new Audio(btn.dataset.url);
                    audio.play()

                    pauseMusic(btn)
                })
            });
        }
        setListener()
    </script>
</div>